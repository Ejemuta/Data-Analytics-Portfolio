from sklearn.cluster import KMeans
import pandas as pd

df = pd.read_csv("customer_segmentation.csv")
X = df[["Age", "Income_USD", "PurchaseHistory_Value", "LoyaltyPoints"]]
kmeans = KMeans(n_clusters=4, random_state=42).fit(X)
df["Cluster"] = kmeans.labels_
df.to_csv("customer_clusters.csv", index=False)


##Forecasting

from sklearn.linear_model import LinearRegression
import pandas as pd

df = pd.read_csv("price_sensitivity.csv")
X = df[["Price_USD", "PromotionFlag"]]
y = df["UnitsSold"]

model = LinearRegression().fit(X, y)
print("Price coefficient:", model.coef_[0])
print("Promotion impact:", model.coef_[1])
